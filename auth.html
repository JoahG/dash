<!doctype html>
<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="js/sha256.js"></script>
</head>

<body>
  <script>
    var domain;
    if (localStorage.getItem("domain"))
      domain = localStorage.getItem("domain");

    var rawQs = document.location.search;
    var qsList = rawQs.split(/[\?\&]/);
    var qs = {};
    for (var param in qsList){
      var current = qsList[param];
      if (current){
        qs[current.split("=")[0]] = current.split("=")[1];
      }
    }

    var scope = "read_people,read_orders,read_catalog,read_marketing,no_expiry";
    var signature = qs.secret + qs.code + qs.client_id + scope + "https://mobiledash.co/";
    var shaSignature = new jsSHA("SHA-256", "TEXT");
    shaSignature.update(signature);
    var hash = shaSignature.getHash("HEX");
    console.log(hash);

    $.ajax({
      "type": "POST",
      "url" : "https://" + domain + "/api/oauth/access_token",
      "data" : {
        "client_id" : qs.client_id,
        "auth_id" : qs.auth_id,
        "signature", signature
      }
    })
  </script>
</body>

</html>